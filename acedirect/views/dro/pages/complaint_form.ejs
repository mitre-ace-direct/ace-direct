<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>FCC ASL Consumer Support Call</title>

  <meta name="description" content="FCC ASL Consumer Support Call">
  <meta name="viewport" content="width=device-width">

  <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="/dro/css/complaint_form.css">
  <link rel="stylesheet" href="/dro/css/type_scale.css">
  <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/ca-portal.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap">
</head>

<body style="font-family: 'Roboto', sans-serif;">
  <section role="complementary" aria-labelledby="gpu-warning">
    <div id="hardware-acc-warning" class="alert alert-info hidden"
      style="display: none;margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; display: flex; align-items: center;">
      <p id="gpu-warning" style="padding-bottom: 0px;flex:1;">We noticed you have hardware acceleration turned on! For
        better performance, consider turning hardware acceleration off in your Google Chrome Settings.
      </p>
      <button type="button" id="gpu-close" class="fa fa-times" data-dismiss="alert" tabindex="0"
        aria-label="close chrome hardware acceleration message" style="margin:1rem;background:none;border:none;"></button>
    </div>
  </section>

  <header>
    <%- include("../partials/agent_page_header") %>
  </header>

  <div class="container" id="pageContainer">
    <div class="row">
      <main>
        <div id="callVideoColumn" class="col-xs-8 text-center">
          <!--Only appear outside of a call-->
          <div id="noCallPoster">
            <img id="DVC" src="dro/images/DVC2.png" alt="Direct Video Call logo">
          </div>
          <!--END Only appear outside of a call-->
          <!--Appear inside of a call-->
          <div id="inCallSection" hidden>
            <section aria-label="video options">
              <div id="callButtonsRow" class="row">
                <span id="callTime" class="pull-left body1"></span>
                <button id="mute-audio" type="button" class="btn btn-gray circleButton" onclick="muteAudio()"
                  aria-label="Mute Audio">
                  <i id="mute-audio-icon" class="call-btn-icon fa fa-microphone"></i>
                </button>
                <button id="hide-video" type="button" class="btn btn-gray circleButton" onclick="enableVideoPrivacy()"
                  aria-label="Enable Video Privacy">
                  <!--<i id="mute-camera-off-icon" class="call-btn-icon fa fa-video-camera"></i>-->
                  <i id="mute-camera-off-icon" class="call-btn-icon fa-stack">
                    <i class="fa fa-video-camera fa-stack-1x"></i>
                  </i>
                </button>
                <button type="button" class="btn btn-gray circleButton" onclick="enterFullscreen()" aria-label="Enter Fullscreen">
                  <i id="fullscreen-icon" class="call-btn-icon fa fa-expand"></i>
                </button>
                <button id="mute-captions" type="button" class="btn btn-gray circleButton" onclick="toggleCaptions()" style="display:none" aria-label="Toggle Captions">
                  <i class="call-btn-icon fa-stack">
                    <i id="mute-captions-icon" class="fa fa-cc fa-stack-1x"></i>
                    <i id="mute-captions-off-icon" class="fa fa-ban fa-stack-2x text-danger mute-ban" style="display:none;"></i>
                  </i>
                </button>

                <button type="button" class="btn btn-gray button <%= screenSharingVisibility %>" id="startScreenshare" onclick="toggleScreenShare(true)"
                  aria-label="Toggle Screenshare">
                  <i id="screenshare-icon" class="call-btn-icon fa fa-desktop"></i> Start Screenshare
                </button>
                <button id="end-call" type="button" class="btn btn-danger button" style="background-color: #C70000 !important;"
                  onclick="terminateCall()" aria-label="End Call">
                  <i id="end-call-icon" class="call-btn-icon fa fa-phone fa-rotate-135"></i> End Call
                </button>
              </div>
            </section>

            <div id="speakingToRow" class="row">
              <span id="CommunicationText" aria-live="assertive" class="body2"></span>
            </div>

            <div style="box-sizing: border-box;" class="row">
              <p class="alert alert-info body2" id="button-feedback" style="display: flex;margin-bottom: 0px;text-indent: 30px;" aria-live="assertive"></p>
            </div>

            <div class="box-body" id="fullscreen-element">
              <div id="callVideosRow" class="row">
                <div class="col-xs-3" id="selfViewCol">
                  <video id="selfView" autoplay muted="true" class="mirror-mode" aria-label="Self Video"></video>
                  <button id="exitFullscreen" onclick="exitFullscreen()" aria-label="Exit Fullscreen">Exit Fullscreen</button>
                </div>
                <div class="col-xs-9 pull-right" id="remoteViewCol">
                  <video id="remoteView" autoplay aria-label="Remote Video"></video>
                </div>
              </div>
              <div id="captions-area" class="row" style="display:none">
                <ul id="currentCaptions"> ...no one is speaking, no captions to display</ul>
                <hr id="captionHr" />
                <ul id="historicalCaptions"></ul>
              </div>
            </div>
          </div>
          <!--END Appear inside of a call-->
        </div>

        <!-- Collapse/Expand, Chat, and File Share -->
        <section aria-label="chat and file share">
          <div id="callFeaturesColumn" class="col-xs-4" style="border-left:1px solid #ddd; height:100%; display:flex;">
            <!-- Nav tabs -->
            <div id="tab-options" class="col-xs-3" style="order:2; padding-right: 0 !important; padding-left: 0px !important;">
              <ul id="tabRightGroup" class="nav nav-tabs tabs-right tabsWidthClass" style="height: 90vh;" role="tablist">
                <li id="collapseTab" role="none" class="collapseTab">
                  <a id="collapseTabTitle" class="collapseTab sidebarTab" title="Collapse Sidebar"
                    style="padding-bottom: 20px; padding-top:20px; border:solid 1px transparent;" tabindex="-1">
                    <button id="collapseButton" data-toggle="tooltip" title="Collapse" aria-label="Collapse Sidebar"
                      onclick="collapseSidebar('')" tabindex="0" aria-expanded="true">
                      <i id="collapseButtonIcon" class="fa fa-angle-double-right fa-lg" style="vertical-align: -10% !important;"
                        aria-hidden="true" alt="">
                      </i>
                    </button>
                  </a>
                </li>
                <li class="active" id="tab1" role="tab" aria-controls="chatBody" aria-selected="true">
                  <a id="chatTab" href="#chatBody" data-toggle="tab" class="sidebarTab tab selected"
                    onclick="toggleTab('chatTab')" alt="" aria-label="">
                    <i class="fa fa-comments fa-2x" style="color: #073863; padding-top:10px; padding-bottom: 10px;"
                      aria-hidden="true" tabindex="-1" alt="">
                      <span id="unreadMessagesBadge" class="badge tabNotificationBadge"></span>
                    </i>
                    <br>
                    <p class="caption" style="color: #073863;">Chat</p>
                  </a>
                </li>
                <li id="tab2" role="tab" aria-controls="fileBody" aria-selected="false" tabindex="-1">
                  <a id="fileShareTab" href="#fileBody" data-toggle="tab" class="sidebarTab tab"
                    onclick="toggleTab('fileShareTab')" alt="" aria-label="">
                    <i class="fa fa-file fa-2x" style="color: #073863; padding-top:10px; padding-bottom: 10px;"
                      aria-hidden="true" tabindex="-1" alt="">
                      <span id="unreadFilesBadge" class="badge tabNotificationBadge"></span>
                    </i>
                    <br>
                    <p class="caption" style="color: #073863;">File Share</p>
                  </a>
                </li>
              </ul>
            </div>

            <!-- Tab panes -->
            <div id="tab-pane" class="col-xs-9" style="order:1;">
              <div class="tab-content">
                <!--Chat pane-->
                <div class="tab-pane active tabFontSize" id="chatBody" tabindex="0" aria-label="Chat tab content"
                  role="tabpanel">
                  <div class="box-header" style="overflow: hidden;" id="chat-header">
                    <h1 class="h1" style="float:left">Chat</h1>
                    <div class="btn-group" style="float:right; margin-top: 20px; height: 40px">
                      <button type="button" class="btn fontSizeButtons" onclick="setFontSize(-10)"
                        aria-label="Decrease font size by 10%">A</button>
                      <button type="button" class="btn btn-secondary fontSizeButtons currentFontSize body1"
                        aria-live="assertive">100%</button>
                      <button type="button" class="btn fontSizeButtons" style="font-size:large;" onclick="setFontSize(10)"
                        aria-label="Increase font size by 10%">A</button>
                    </div>
                  </div>
                  <span id="dropdown-menu" class="dropdown pull-left" style="overflow:visible">
                    <button id="chat-translate-btn" data-toggle="dropdown" animation="true" style="height: 40px" onclick="chatTranslationModalDropdown()">
                      <i class="fa fa-language"></i>
                    </button>
                    <div class="dropdown-menu" id="toggleChatTranslationModal" style="width: 300px">
                      <span class="dropdown-content body1" style="margin-left: 10px"><b>Language Translation</b></span>
                      <p class="dropdown-content" style="margin-left: 10px">Turn on language translation to translate incoming chat messages into a selected language</p>
                      <label class="switch" style="margin-left: 10px">
                        <input type="checkbox" onclick="chatTranslationToggleSwitch()" id="languageSwitch">
                        <span class="slider round"></span>
                      </label>
                      <div class="modal-body">
                        <select disabled="disabled" name="webmenu" id="language-select" style="width: 210px;margin-left:10px" class="dropdown-content" onchange="enableChatTranslation()">
                          <option selected="true" disabled="disabled">Select a Language</option>
                          <option value="en-US" selected title="images/flags/us.png">English</option>
                          <option value="ar" title="images/flags/ae.png">Arabic</option>
                          <option value="zh" title="images/flags/cn.png">Chinese (Mandarin)</option>
                          <option value="nl" title="images/flags/nl.png">Dutch</option>
                          <option value="fr" title="images/flags/fr.png">French</option>
                          <option value="de" title="images/flags/de.png">German</option>
                          <option value="it" title="images/flags/in.png">Italian</option>
                          <option value="ja" title="images/flags/jp.png">Japanese</option>
                          <option value="ko" title="images/flags/kr.png">Korean</option>
                          <option value="pt" title="images/flags/pt.png">Portuguese</option>
                          <option value="es" title="images/flags/mx.png">Spanish</option>
                        </select>
                      </div>
                    </div>
                  </span>
                  <hr id="chat-separator" />
                  <div class="box-body" id="chat-box-body" style="display:flex; flex-direction: column; overflow: hidden;"
                    role="region" aria-label="chat window">
                    <!-- Conversations are loaded here -->
                    <div id="chat-body" style="flex-direction: column; display: flex;">
                      <div class="direct-chat-messages emptyMessages" id="chat-messages" tabindex="0">
                        <div class="direct-chat-timestamp text-bold alert alert-secondary rttChatBubble" id="rtt-typing"
                          style="min-height: 20px; display: none;"></div>
                        <span id="emptyChat" style="font-weight:400; font-size: 14px;" class="chat-body2">This is the start of your chat<span class="agentChatName"></span>. No
                          messages yet to display</span>
                      </div>
                    </div>

                    <div id="chat-footer" class="box-footer"
                      style="padding-top:10px; padding-right: 30px; padding-bottom: 30px; bottom:0; width: 100%; position:absolute;">
                      <input type="hidden" id="displayname">
                      <input type="hidden" class="agentChatName">
                      <form name="chatsend" id="chatsend">
                        <div class="input-group">
                          <span class="input-group-btn" style="vertical-align: bottom;">
                            <span id="dropup-menu" class="dropup pull-left">
                              <button id="chat-emoji" class="btn btn-flat buttonFontSize" type="button" data-toggle="dropdown"
                                animation="true" style="border:2px solid lightgrey; margin-right: 10px"
                                aria-label="Select emoji">&#128512;</button>
                              <div class="dropdown-menu dropdown-multicol" id="emoji-selector"
                                aria-labelledby="dropdownMenuButton"
                                style="height:fit-content; overflow-y: auto; text-align: center;">
                                <div class="dropdown-row">
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128512;">&#128512;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128513;">&#128513;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128516;">&#128516;</button>
                                </div>
                                <div class="dropdown-row">
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128547;">&#128547;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128577;">&#128577;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#129320;">&#129320;</button>
                                </div>
                                <div class="dropdown-row">
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128077;">&#128077;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128078;">&#128078;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128075;">&#128075;</button>
                                </div>
                                <div class="dropdown-row">
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128263;">&#128263;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128264;">&#128264;</button>
                                  <button class="dropdown-item emojiButtons" type="button" onclick="addEmoji(this.value)"
                                    value="&#128266;">&#128266;</button>
                                </div>

                              </div>
                            </span>
                          </span>
                          <textarea type="text" id="newchatmessage" placeholder="Type a message" aria-label="Type a message"
                            class="form-control col-xs-1 buttonFontSize chat-body1" maxlength="500" autocomplete="off" required></textarea>

                          <span class="input-group-btn" style="vertical-align: bottom;">
                            <button id="chat-send" class="btn btn-primary btn-flat buttonFontSize" aria-label="Send message"
                              style="background-color: #073863 !important; margin-left: 10px; border-radius: 6px; border: 2px solid #073863; font-weight:700; font-size: 14px;">Send</button>
                          </span>
                        </div>
                      </form>
                      <p hidden id="characters-left">You have <span id="chatcounter">500</span> characters
                        left.</p>
                    </div>
                  </div>
                </div>
                <!-- end chat pane-->
                <!--File Share Pane-->
                <div class="tab-pane tabFontSize" id="fileBody" tabindex="0" aria-label="File share tab content"
                  role="tabpanel">
                  <div class="box-header" style="overflow: hidden; display:flex;" id="fileshare-header">
                    <h1 class="h1" style="float:left; flex: 6;">File Sharing</h1>
                    <div class="btn-group" style="float:right; margin-top: 20px; height: 40px; margin-left: auto;">
                      <button type="button" class="btn fontSizeButtons" onclick="setFontSize(-10)"
                        aria-label="Decrease font size by 10%">A</button>
                      <button type="button" class="btn btn-secondary fontSizeButtons currentFontSize body1"
                        aria-live="assertive">100%</button>
                      <button type="button" class="btn fontSizeButtons" style="font-size:large;" onclick="setFontSize(10)"
                        aria-label="Increase font size by 10%">A</button>
                    </div>
                  </div>
                  <hr id="fileshare-separator" />
                  <div class="box-body" id="fileshare-box-body">
                    <div id="fileshare-body" style="overflow-y: auto; padding-right: 2rem;">
                      <p class="chat-body1" style="line-height: inherit;">Select a file to send by clicking 'Choose File'; send the file by
                        clicking 'Send'.</p>
                      <p class="chat-body1" style="line-height: inherit;">View and/or download sent and received files in the 'Sent' and 'Received'
                        sections, respectively.</p>
                      <br>
                      <br>
                      <!--file selection section-->
                      <div style="overflow:hidden">
                        <div class="btn-group chooseFileGroup" style="width: 70%;">
                          <input type="file" id="fileInput" name="fileInput" aria-label="Choose a File"
                            class="form-control-file btn btn-default fileInput buttonFontSize"
                            style="background-color:transparent; border: transparent; padding-left: 0px; width: 80%; padding-right: 0px;">
                          <span id="removeFileBtn" class="btn btn-secondary button" onclick="removeFile()" style="display: none;"
                            tabindex="0" aria-label="Remove selected file" role="button">x</span>
                        </div>
                        <a class="btn pull-right buttonFontSize button" id="shareFileConsumer" onclick="shareFileConsumer()"
                          style="background-color:rgb(15, 42, 66) !important; color: white !important; margin-top: 5px; margin-bottom: 5px;"
                          data-toggle="tooltip" title="You must choose a file" data-container="body" role="button" tabindex="0" disabled
                          aria-label="Send file">Send</a>

                      </div>
                      <div class="row" style="max-width: 100%; display: contents;">
                        <div class="alert alert-success body2" alert-dismissable id="fileSent" style="margin-top: 10px;" hidden>
                          <span class="close closeFileResponse" onclick="$('#fileSent').hide();" style="text-decoration:none"
                            tabindex="0" aria-label="Close file upload message" role="button">×</span>
                          <strong aria-live="assertive" aria-label="Success file sent" class="body2" style="font-weight:700 !important">Success!</strong> File Sent
                        </div>
                        <div class="alert alert-danger" alert-dismissable id="fileSentError" style="margin-top: 10px;" hidden>
                          <span class="close  closeFileResponse" onclick="$('#fileSentError').hide();"
                            style="text-decoration:none" tabindex="0" aria-label="Close file upload error message"
                            role="button">×</span>
                          <strong aria-live="assertive" aria-label="Error sending file" class="body2" style="font-weight:700 !important">Error!</strong> Error sending file.
                        </div>
                      </div>
                      <!--end file selection section-->
                      <br>
                      <br>
                      <!--send files section-->
                      <h2 class="h2">Sent</h2>
                      <hr id="sentFilesDivider" style="border:1px solid grey; background-color: grey;" />

                      <div id="sentFilesList">
                        <span id="noSentFiles" class="noFiles chat-body1">None</span>
                      </div>
                      <!--end sent files section-->
                      <br>
                      <br>
                      <!--received files section-->
                      <h2 class="h2">Received</h2>
                      <hr id="receivedFilesDivider" style="border:1px solid grey; background-color: grey;" />
                      <div id="receivedFilesList" style="display: flex; flex-direction: column;">
                        <span id="noReceivedFiles" class="noFiles chat-body1">None</span>
                      </div>
                      <!--end received files section-->
                    </div>
                  </div>
                </div>
                <!--end file share pane-->
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>
  <!--<%- include("../partials/acedirect_footer") %>-->
</body>
<%- include("../partials/acedirect_footer") %>

<div id="optionsModal" class="modal fade complaint-modal" data-keyboard="false" data-backdrop="static" role="dialog">
  <div class="modal-dialog modal-dialog">
    <div class="modal-content">
      <!-- <div class="modal-header" style="padding-bottom: 5px !important;"> -->
      <div class="modal-header">
        <video muted class="video-element" id="instructionsVideo" title="Play Video" tabindex="-1">
          <source src="/media/<%= instructionsVideo %>" type="video/mp4">
          <source src="/media/<%= instructionsVideo %>" type="video/webm">
        </video>

        <div class="modalVideoButtonBar">
          <div style="display:inline-block; vertical-align:middle">
            <button class="modalVideoButton" id="instructionsPlayPauseBtn" tabindex="0"
              data-toggle="tooltip" data-placement="bottom" title="Play instructions video" aria-label="Play instructions video">
              <i id="instructionsPlayPauseBtnIcon" class="fa fa-play fa-lg" aria-hidden="true"></i>
            </button>
          </div>

          <div style="display:inline-block; vertical-align:middle; " class="body1"><span
              id="instructionsCurrentTime">0:00</span>/<span id="instructionsDuration">0:00</span></div>
          <div id="instructions-custom-seekbar" class="video-custom-seekbar" role="progressbar" aria-label="progress bar">
            <span></span></div>
          <span>|</span>

          <div style="display:inline-block; vertical-align:middle">
            <button class="modalVideoButton pull-right" id="instructionsVideoTranscriptBtn" tabindex="0"
              data-toggle="tooltip" data-placement="bottom" title="Show video transcript" aria-label="Show video transcript"
              onclick="toggleTranscripts('instructionsVideo')">
              <i id="instructionsTranscriptBtnIcon" class="fa fa-file-text fa-lg" alt="" aria-hidden="true"></i>
            </button>
          </div>
        </div>

        <div id="instructionsVideoTranscript" tabindex="0" aria-hidden="true" hidden>
          <section class="transcript" role="transcript">
            <p><%= instructionsVideoTranscript %></p>
          </section>
        </div>
      </div>
      <div class="modal-body text-center">

        <div class="row">
          <div class="col-xs-5 panel-col">
            <div class="panel panel-default button-panel">
              <div class="panel-body">
                <span class="panel-header body1"><b>Videocall with an agent</b></span>
                <br />
                <i class="fa fa-user big-icon" alt="" aria-hidden="true"></i>
                <div class="button-area text-center">
                  <button type="button" id="callQueueButton" class="btn btn-primary btn-style button" data-dismiss="modal"
                    onclick="enterQueue()" tabindex="0">Call</button>
                </div>
              </div>

            </div>
          </div>
          <div class="col-xs-2 or-column body1">
            <b>OR</b>
          </div>
          <div class="col-xs-5 panel-col">
            <div class="panel panel-default button-panel">
              <div class="panel-body">
                <span class="panel-header body1"><b>Leave a message</b></span>
                <br />
                <i class="fa fa-envelope big-icon" alt="" aria-hidden="true"></i>
                <div class="button-area text-center">
                  <a href="./videomail" id="leaveVideomailButton" type="button" role="button" class="btn btn-primary btn-style button" tabindex="0">
                    Leave Videomail
                  </a>
                </div>
              </div>

            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <a href="#" onclick="logout()" style="color:#073863" role="button" tabindex="0" class="body2"><i class="fa fa-sign-out" alt="" aria-hidden="true"></i> Exit Support Portal</a>
      </div>
    </div>
  </div>
</div>
<div id="waitingModal" class="modal fade complaint-modal" data-keyboard="false" data-backdrop="static" role="dialog" aria-labelledby="waiting-header">
  <div class="modal-dialog modal-dialog">
    <div class="modal-content">
      <!-- <div class="modal-header" style="padding-bottom: 5px !important;"> -->
      <div class="modal-header">
        <p id="callingBanner" class="text-center"><b>Calling...</b></p>
        <p class="waiting-header body1 text-center" role="heading" aria-level="3" aria-live="assertive"
          style="padding-bottom:0px">
          <b>Waiting for the next available agent</b>
        </p>
        <hr />
        <video muted class="video-element" id="pleaseWaitVideo" title="Play Video" tabindex="-1">
          <source src="/media/<%= pleaseWaitVideo %>" type="video/mp4">
          <source src="/media/<%= pleaseWaitVideo %>" type="video/webm">
        </video>
        <div class="modalVideoButtonBar">
          <div style="display:inline-block; vertical-align:middle">
            <button class="modalVideoButton" id="pleaseWaitVideoPlayPauseBtn" tabindex="0"
              data-toggle="tooltip" data-placement="bottom" title="Play instructions video" aria-label="Play waiting video">
              <i id="pleaseWaitVideoPlayPauseBtnIcon" class="fa fa-play fa-lg" aria-hidden="true"></i>
            </button>
          </div>

          <div style="display:inline-block; vertical-align:middle; " class="body1"><span
              id="pleaseWaitVideoCurrentTime">0:00</span>/<span id="pleaseWaitVideoDuration">0:00</span></div>
          <div id="pleaseWaitVideo-custom-seekbar" class="video-custom-seekbar" role="progressbar" aria-label="progress bar">
            <span></span></div>

          <div style="display:inline-block; vertical-align:middle">
            <button class="modalVideoButton" id="pleaseWaitTranscriptBtn" tabindex="0"
              data-toggle="tooltip" data-placement="bottom" title="Show video transcript" aria-label="Show video transcript"
              onclick="toggleTranscripts('pleaseWait')">
              <i id="pleaseWaitVideoTranscriptBtnIcon" class="fa fa-file-text fa-lg" alt="" aria-hidden="true"></i>
            </button>
          </div>
        </div>

        <div id="pleaseWaitTranscript" tabindex="0" aria-hidden="true" hidden>
          <section class="transcript" role="transcript">
            <p><%= pleaseWaitVideoTranscript %></p>
          </section>
        </div>
      </div>
      <div class="modal-body text-center my-body">
        <div class="row">
          <div class="col-xs-12 text-center body1">
            If you do not wish to wait for an agent, you may:
          </div>
        </div>
        <br />
        <div class="row button-row">
          <div class="col-xs-5">
            <a href="#" onclick="redirectToVideomail();" type="button" role="button" class="btn btn-secondary modal-outline-btn button" tabindex="0" aria-label="Leave Videomail">
              <i class="fa fa-envelope"  alt="" aria-hidden="true"></i>
              <span class="separator"></span>
              Leave Videomail
            </a>
          </div>
          <div class="col-xs-2 second-or body1">
            - OR -
          </div>
          <div class="col-xs-5">
            <button type="button" id="waitingHangUpButton" class="btn btn-secondary modal-outline-btn" onclick="endCall(true)" tabindex="0" aria-label="Hang Up"><i
                class="fa fa-phone rotate-phone" alt="" aria-hidden="true"></i><span class="separator"></span>Hang Up</button>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <a href="#" onclick="logout()" style="color:#073863" role="button" tabindex="0" class="body2"><i class="fa fa-sign-out" alt="" aria-hidden="true"></i> Exit Support Portal</a>
      </div>
    </div>
  </div>
</div>
<div id="noAgentsModal" class="modal fade complaint-modal" data-keyboard="false" data-backdrop="static" role="dialog" aria-labelledby="no-agents-header">
  <div class="modal-dialog modal-dialog">
    <div class="modal-content">
      <!-- <div class="modal-header" style="padding-bottom: 5px !important;"> -->
      <div class="modal-header">
        <div class="no-agents-header text-center" aria-live="assertive" style="font-size:26px !important">No agents are available to take your call at this time.</div>
        <hr/>
        <video muted class="video-element" id="noAgentsVideo" title="Play Video" tabindex="-1">
          <source src="/media/<%= noAgentsVideo %>" type="video/mp4">
          <source src="/media/<%= noAgentsVideo %>" type="video/webm">
        </video>

        <div class="modalVideoButtonBar">
          <div style="display:inline-block; vertical-align:middle">
            <button class="modalVideoButton" id="noAgentsVideoPlayPauseBtn" tabindex="0"
              data-toggle="tooltip" data-placement="bottom" title="Play no agents video" aria-label="Play no agents video">
              <i id="noAgentsVideoPlayPauseBtnIcon" class="fa fa-play fa-lg" aria-hidden="true"></i>
            </button>
          </div>

          <div style="display:inline-block; vertical-align:middle; " class="body1"><span
              id="noAgentsVideoCurrentTime">0:00</span>/<span id="noAgentsVideoDuration">0:00</span></div>
          <div id="noAgentsVideo-custom-seekbar" class="video-custom-seekbar" role="progressbar" aria-label="progress bar">
            <span></span>
          </div>

          <div style="display:inline-block; vertical-align:middle">
            <button class="modalVideoButton" id="noAgentsTranscriptBtn" tabindex="0"
              data-toggle="tooltip" data-placement="bottom" title="Show video transcript" aria-label="Show video transcript"
              onclick="toggleTranscripts('noAgents')">
              <i id="noAgentsVideoTranscriptBtnIcon" class="fa fa-file-text fa-lg" alt="" aria-hidden="true"></i>
            </button>
          </div>
        </div>

        <div id="noAgentsTranscript" tabindex="0" aria-hidden="true" aria-label="Video Transcript" hidden>
          <section class="transcript" role="transcript">
            <p><%= noAgentsVideoTranscript %></p>
          </section>
        </div>
      </div>
      <div class="modal-body text-center my-body">
        <div class="row button-row">
          <div class="col-xs-5">
            <a href="./videomail" type="button" role="button" class="btn btn-secondary modal-outline-btn" tabindex="0" aria-label="Leave Videomail">
              <i class="fa fa-envelope"  alt="" aria-hidden="true"></i>
              <span class="separator"></span>
              Leave Videomail
            </a>
          </div>
          <div class="col-xs-2 second-or body1">
            - OR -
          </div>
          <div class="col-xs-5">
            <button type="button" id="noAgentsHangUpButton" class="btn btn-secondary modal-outline-btn" onclick="endCall(true)" tabindex="0" aria-label="Hang Up"><i
                class="fa fa-phone rotate-phone" alt="" aria-hidden="true"></i><span class="separator"></span>Hang Up</button>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <a href="#" onclick="logout()" style="color:#073863" role="button" tabindex="0" class="body2"><i class="fa fa-sign-out" alt="" aria-hidden="true"></i> Exit Support Portal</a>
      </div>
    </div>
  </div>
</div>
<!--
<div id="callEndedModal" class="modal fade" data-keyboard="false" data-backdrop="static" role="dialog">
  <div class="modal-dialog modal-dialog">
    <div class="modal-content">
      <div class="modal-header text-center" style="border-bottom: 0px">
        <div>

        </div>
        <h3 class="waiting-header">Your call with an FCC ASL Consumer Portal Support agent has ended.</h3>
        <br />
        <hr style="margin:auto; width:50%; background-color: black; border: 1px solid black;" />
        <br />

      </div>
      <div class="modal-body text-center my-body">

        <div class="row">
          <div class="col-xs-12 text-center">
            You will be redirected to <span id="redirectURL" style="font-weight: bold;"></span> in <b>10</b> seconds.
          </div>
        </div>
        <br />
      </div>
      <div class="modal-footer">
        <a href="#" onclick="logout()" style="color:#073863" role="button" tabindex="0"><i class="fa fa-sign-out"  alt="" aria-hidden="true"></i> Exit Support Portal</a>
      </div>
    </div>
  </div>
</div>
-->
<div id="callEndedModal" class="modal fade" data-keyboard="false" data-backdrop="static" role="dialog">
  <div class="modal-dialog modal-dialog-csentered">
    <div class="modal-content">
      <div class="modal-body" style="position: relative;min-height:300px; padding: 0px;">
        <div class="center text-center body1" style="width:100%; padding: 30px;"><!--style="width: 75%"-->
          <!--<i class="fa fa-check-circle fa-2x text-success" aria-hidden="true"></i>-->
          <br /><br />
          <p id="goodbyeDescription" style="font-size: 26px; line-height: 32.5px;">Your call with an FCC ASL Consumer Support agent has ended.</p>
          <hr class="text-black"
            style="width:50%;height:2px;background-color:black;border:none;margin-top: 50px;margin-bottom: 50px;">
            You are being redirected in <b>10</b> seconds to <a id="redirectUrlDesc" class="link"></a>
            </b>
        </div>
      </div>
      <div class="modal-footer">
        <div class="text-center">
          <a href="#" onclick="logout()" style="color:#073863;" role="button" tabindex="0" class="body2"><i class="fa fa-sign-out" aria-hidden="true"></i> Exit Support Portal</a>
        </div>
      </div>
    </div>
  </div>

</div>

<div id="beginCallLanguageTranslationModal" class="modal fade" data-keyboard="false" data-backdrop="static" role="dialog">
  <div class="modal-dialog modal-dialog-csentered">
    <div class="modal-content">
        <div class="modal-body" style="position: relative;min-height:300px; padding: 0px;">
          <div class="center text-center body1" style="width:100%; padding: 30px;"><!--style="width: 75%"-->
            <br /><br />
            <p>The agent you will be connected to is fluent in ASL, but they may speak or type in a different language than the language set as default in your browser.
              Do you want to turn on language translation for captions and chat for this call?
            </p>
          </div>
        </div>
        <div class="modal-footer">
          <div class="btn-group" style="width: 100%;">
            <button id="enableTranslationBtn" type="button"  class="btn btn-secondary modal-outline-btn button" onclick="enableTranslation()" data-dismiss="modal">
                Enable Translation </button>
            <button id="declineTranslationBtn" type="button" class="btn btn-secondary modal-outline-btn button" data-dismiss="modal" onclick="disableTranslation()">
                No Thanks </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let nginxPath = '<%= nginxPath %>';
  let consumerPath = '<%= consumerPath %>';
  let stunFQDN = '<%= stunFQDN %>';
  let stunPort = '<%= stunPort %>';
  let turnFQDN = '<%= turnFQDN %>';
  let turnPort = '<%= turnPort %>';
  let turnUser = '<%= turnUser %>';
  let turnCred = '<%= turnCred %>';
  let fileSharingEnabled = '<%= fileSharingEnabled %>';
  let screenSharingEnabled = '<%= screenSharingEnabled %>';
  let autoplayEnabled = '<%= autoplayEnabled %>';
  let languageTranslationEnabled = '<%= languageTranslationEnabled %>';

  //not instrumenting complaint web page right now
  let logWebRTCStats = false;
  let logWebRTCStatsFreq = 60000;
  let logWebRTCMongo = '';
</script>

<script type="importmap">
  {
      "imports": {
          "detect-gpu": "https://unpkg.com/detect-gpu@4.0.35/dist/detect-gpu.esm.js"
      }
  }
</script>

<script type="text/javascript" src="/assets/js/jquery.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
<script type="text/javascript" src="./socket.io/socket.io.js"></script>
<script type="text/javascript" src="/dro/js/complaint_form.js"></script>
<script type="text/javascript" src="/dro/js/tabs-manual.js"></script>
<script type="text/javascript" src="/dro/js/dialog.js"></script>
<script type="text/javascript" src="/assets/js/jwt-decode.js"></script>
<script type="text/javascript" src="/assets/js/dayjs.min.js"></script>
<script type="text/javascript" src='/assets/js/utc.js'></script>
<script type="module" src="/dro/js/hardware_acc.js"></script>
<script src="/js/ACEKurento-1.0.0.js"></script>

</html>
